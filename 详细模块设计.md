#  模块设计
## 说明
- 本文档详细说明了的各个模块，包括模块名称、功能描述、功能需求、非功能需求、模块结构、详细设计等。
- 本文档是为了帮助组员更好的理解各个模块的功能和设计，以及要求。
## 模块结构
- ### 用户管理模块
    - **登录注册**
    - **信息管理**
        - **基础信息管理**
        - **角色(权限)管理**
    - **收藏管理**
    - **点赞管理**
    - **关注管理**
    - **通知管理**
    - **正在参与**
    - **创作管理**


- ### 竞赛管理模块
    - **竞赛信息管理**
        - **竞赛信息编辑**
        - **报名信息管理**
        - **赛后信息管理**
        - **竞赛分析**
        - **留言板管理(评论)**
    - **竞赛搜索**
    - **竞赛分类**
    - **猜你喜欢**

- ### 论坛管理模块
    - **论坛信息管理**
        - **论坛基本信息管理**
        - **帖子管理**
            - **帖子编辑**
            - **帖子分类**
            - **帖子留言板管理**
            - **帖子搜索**
    - **论坛分类**
    - **猜你喜欢**

- ### 公告管理模块
    - **公告信息管理**

# 详细设计

### 2.1 用户管理模块

#### **登录注册**
- **功能描述**：实现用户的登录、注册、注销操作，并保障用户身份的安全性。
- **功能需求**：
  - 有两套注册方式，一个用于普通用户注册，一个用于网站管理员注册。
  - 用户可以使用用户名和密码进行注册和登录。
  - 登录时，使用JWT进行身份验证，确保会话安全，登录成功后返回token`前端应保存token，登录后的每次请求都携带token`，不同的角色进入不同的平台，网站管理员有独立的后台系统，另外俩个角色进入相同的平台但细节不同
  - 用户可以退出登录，JWT令牌在退出后立即失效。
  
- **非功能需求**：
  - 页面响应时间：登录和注册流程应在2秒内完成。
  - 安全性：使用加密存储用户密码，使用JWT进行加密令牌传输。

#### **信息管理**
- ##### **基础信息管理**
  - **功能描述**：用户可以查看、编辑和修改个人信息。
  - **功能需求**：
    - 用户可以修改头像、学号、姓名、学院、专业、班级、邮箱、手机号、联系方式等个人信息，**但不能更改用户角色信息**。
    - 用户可以更改密码，并需要通过现有密码验证。
  
  - **非功能需求**：
    - 界面应简洁易用，个人信息编辑操作不超过3个步骤。
    - 对敏感数据（如邮箱、手机等）进行加密处理，确保用户隐私。

- ##### **角色(权限)管理**
  - **功能描述**：不同的角色有不同的权限
  - **功能需求**：
    - 普通用户可以申请成为内容管理员。
    - 网站管理员可以在后台系统查看申请列表，并选择是否通过。
    - 网站管理员可以在后台系统根据用户名直接修改用户的角色
    `网站管理员有独立的后台系统，负责管理`🚀
    
  - **非功能需求**：
    - 用户角色信息的读取、修改操作需要权限验证，避免权限滥用。

#### **收藏管理**
- **功能描述**：用户可以收藏竞赛、论坛、帖子等内容，方便以后查看。
- **功能需求**：
  - 用户可以收藏竞赛、论坛、帖子。
  - 支持查看已收藏内容，并可取消收藏。
  - 支持分页展示收藏内容。
  
- **非功能需求**：
  - 用户收藏内容的加载应在2秒内完成。

#### **点赞管理**
- **功能描述**：用户对竞赛、论坛帖子等内容进行点赞。
- **功能需求**：
  - 用户可以点赞竞赛、帖子、论坛等内容。
  - 每个内容只能点赞一次。
  - 系统实时更新点赞数量，页面显示即时反馈。
  
- **非功能需求**：
  - 点赞操作应在1秒内响应，并且系统应保证数据的一致性。
  - 点赞信息在系统中持久化，避免因系统崩溃丢失。


#### **关注管理**
- **功能描述**：用户可以关注竞赛、论坛等对象，接收相关更新通知。
- **功能需求**：
  - 用户可以关注竞赛、论坛。
  - 用户可以查看自己关注的内容，支持取消关注。
  - 用户关注对象有更新时，系统向用户发送通知。
  
- **非功能需求**：
  - 用户关注/取消关注操作应能实时更新。

#### **通知管理**
- **功能描述**：系统向用户推送通知，用户可查看通知信息并管理。
- **功能需求**：
  - 用户关注列表的任何对象有更新时，系统需要对用户通知;用户发的留言或帖子被回复时系统需要对用户进行通知
  - 用户可以查看历史通知，标记为已读或删除。
  
- **非功能需求**：
  - 通知的推送应保证高效，系统推送通知的响应时间不超过1秒。
  - 通知信息的存储应符合用户隐私保护的标准。
#### **正在参与**
- **功能描述**：用户可以查看自己报名的竞赛。
- **功能需求**：
  - 用户可以查看自己参加的竞赛列表。
  - 用户点击列表可以跳转到竞赛详情。
  
- **非功能需求**：
  - 用户参加的竞赛的加载应在2秒内完成。
  - 用户参加的竞赛的状态更新应实时反馈。

#### **创作中心**
- **功能描述**：用户可以查看自己创作的内容，并进行快速管理。
- **功能需求**：
  - 用户可以对自己的创作内容进行管理，如删除、修改。
  - 创作内容包括竞赛、论坛帖子。
  - 普通用户的创作内容只有帖子
  - 内容管理员的创作内容包括竞赛、论坛帖子。
  
- **非功能需求**：
  - 用户上传的创作内容应在2秒内完成。
  - 用户上传的创作内容应支持多种格式。



---

### 2.2 竞赛管理模块

#### **竞赛信息管理**
- ##### **基本信息管理**
 - **功能描述**：内容管理员可以创建、编辑、删除竞赛相关信息。
 - **功能需求**：
   - 内容管理员可以添加、修改竞赛信息，支持富文本编辑竞赛。
   - 竞赛信息更新后要通知关注该竞赛的用户。
   - 内容管理员**只能查看自己**创建的竞赛，进行编辑，删除等
   - 内容管理员可以设置竞赛类别，只能设置。（只有网站管理员可以管理分类，增删查改）。
  
 - **非功能需求**：
   - 信息修改操作应支持撤销和回退功能，避免操作错误。
   - 竞赛信息的保存操作应在2秒内完成。
   - 需要支持封面🚀

- ##### **报名信息管理**🚀
  - **功能描述**：管理竞赛报名信息。
  - **功能需求**
    - 管理员可以根据需要决定，是否为竞赛添加这个功能(此功能仅适用于单人参加的竞赛)。管理员可以不要这个功能，通过在竞赛信息里放上自己的在线表格也可以。
    - 管理员可以设置报名时间限制、报名人数等。
    - 用户可以一键报名(将自己的信息自动录用进去)，和取消报名
    - 用户可以查看自己报名成功的所有竞赛。 
    - 管理员可以查看报名信息，支持导出报名信息Excel格式。 🚀

- ##### **赛后信息管理**
  - **功能描述**：发布赛后相关信息，包括获奖名单、总结等。
  `负责人员可以考虑将赛后信息管理细分为两个模块：获奖名单管理模块、赛后总结模块。或者直接一个大板块`
  - **功能需求**：
    - 内容管理员可以发布赛后信息和获奖名单。
    - 普通用户可以查看赛后信息。
    - 赛后获奖名单信息管理应支持**导入**功能（PDF、Excel格式）。（可选🚀）

  - **非功能需求**：
    - 赛后信息的发布操作应不超过2秒。

- ##### **竞赛分析**🚀🚀🚀🚀
  - **功能描述**：自动生成竞赛分析报告，如获奖率、参赛人数等（必须做好）。
  - **功能需求**：
    - 系统根据竞赛数据生成自动化分析报告。
    - 用户可以查看统计图表，分析竞赛的参与情况。

  - **非功能需求**：
    - 数据处理能力要高，响应时间控制在2秒内。

- ##### **留言板管理(评论)**
  - **功能描述**：用户可以对竞赛评论。
  - **功能需求**：
    - 用户可以对竞赛信息进行评论，支持回复和多层嵌套。
    - 内容管理员可以删除违规评论，并进行管理。

  - **非功能需求**：
    - 留言板的加载速度不应超过3秒，避免页面卡顿。
    - 系统应支持评论的分页加载。

- #### **竞赛搜索**
  - **功能描述**：用户可以通过关键字搜索竞赛相关内容。
  - **功能需求**：
    - 用户可以通过竞赛名称、类别等进行搜索。
    - 支持模糊搜索，并提供自动补全功能。

  - **非功能需求**：
    - 搜索结果展示应在2秒内加载完成。
    - 系统应支持竞赛数量达到100以上的高效搜索。

#### **竞赛分类**
- **功能描述**：对竞赛进行分类，方便用户根据兴趣筛选。
- **功能需求**：
  - 用户可以根据分类查看相关竞赛。

- **非功能需求**：
  - 分类内容的加载应在2秒内完成。
  - 分类信息更新时，用户无需刷新页面即可实时查看更新内容。

#### **猜你喜欢**
- **功能描述**：推荐用户感兴趣的竞赛。
- **功能需求**：
  - 系统根据用户的兴趣推荐相关竞赛。
  - 用户可以查看推荐的竞赛列表。

  - **非功能需求**：
  - 推荐内容的加载应在2秒内完成。
  - 推荐内容的更新应实时反馈。

---

### 2.3 论坛管理模块

#### **论坛信息管理**
- ##### **论坛基本信息管理**
  - **功能描述**：管理员可以管理论坛的基本信息，如论坛介绍、封面、分类等。
  - **功能需求**：
    - 内容管理员可以编辑、修改论坛的基本信息和设置。
    - 论坛信息更新后要通知关注该论坛的用户。
    - 内容管理员可以设置论坛类别，只能设置。（只有网站管理员可以管理分类，增删查改）。
    - 管理员只能查看自己创建的论坛，进行编辑和删除

  - **非功能需求**：
    - 论坛基本信息修改操作应不超过2秒。
    - 信息的修改要实时同步，避免出现信息不一致的情况。
    - 需要支持能添加图片🚀

- ##### **帖子管理**
  - ###### **帖子编辑**
    - **功能描述**：所有用户可以编辑、删除帖子。
    - **功能需求**：
      - 所有用户可以编辑、删除帖子，支持富文本编辑。
      - 帖子更新后（如有更多的回复）要通知关注该帖子的用户。
      - 用户只能查看自己创建的帖子，进行编辑和删除。（后端提供接口，前端由用户模块的负责人实现）

    - **非功能需求**：
      - 帖子编辑操作应在2秒内完成。
      - 帖子的修改要实时同步，避免出现信息不一致的情况。
  - ###### **帖子分类**🚀
    - **功能描述**：用户可以通过分类来筛选帖子。
    - **功能需求**：
      - 在帖子编辑时，系统自动根据编辑人员的角色来分类。如内容管理员编辑的帖子归属于"官方"。有两个分类："官方"和"普通"。
      - 用户可以根据分类查看相关帖子。

  - ###### **帖子留言板管理**
    - **功能描述**：用户可以发帖、回帖，内容管理员可以管理帖子和评论。
    - **功能需求**：
      - 用户可以发帖、回帖，支持多层次回复。
      - 内容管理员可以删除不当内容。

    - **非功能需求**：
      - 帖子的加载时间不超过3秒。

  - ###### **帖子搜索**
    - **功能描述**：用户可以通过关键字在论坛里搜索帖子。
    - **功能需求**：
      - 用户可以按标题、关键词搜索帖子。
      - 支持按时间、热度等排序显示搜索结果。

    - **非功能需求**：
      - 搜索结果展示应在2秒内完成。
      - 支持搜索结果高效分页加载。

#### **论坛分类**
- **功能描述**：对论坛进行分类，方便用户根据兴趣筛选。
- **功能需求**：
  - 用户可以根据分类查看相关竞赛。

- **非功能需求**：
  - 分类内容的加载应在2秒内完成。
  - 分类信息更新时，用户无需刷新页面即可实时查看更新内容。
  - 支持分页显示分类内容。


- **非功能需求**：
  - 搜索结果展示应在2秒内完成。
  - 支持搜索结果高效分页加载。

#### **猜你喜欢**
- **功能描述**：推荐用户感兴趣的论坛。
- **功能需求**：
  - 系统根据用户的兴趣推荐相关论坛。
  - 用户可以查看推荐的论坛列表。

  - **非功能需求**：
- 推荐内容的加载应在2秒内完成。
  - 推荐内容的更新应实时反馈。
  - 支持分页显示推荐内容。

### 2.4 公告管理模块

#### **公告信息管理**
- **功能描述**：管理员可以发布、编辑、删除公告。
- **功能需求**：
  - 管理员可以查看公告列表。
  - 管理员可以发布、编辑、删除公告。

- **非功能需求**：
  - 公告的发布、编辑、删除操作应实时同步。
  - 公告的发布、编辑、删除操作应支持撤销和回退功能。
